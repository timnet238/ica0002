vm1: timnet238-1
vm2: timnet238-2
domain_name: clickit.io
mysql_host: timnet238-2
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
influxdb_host: timnet238-3
startup_name: clickit.io
backup_server: 192.168.42.132
backupserverip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39323333613166353464333165346637323139656466626262366438353137316530383733316166
          6465363762343834656461636262663365353035396537390a316362383163396237313339326264
          62353233343534343263376635376230623637626132306230376537653934653036346166626332
          3832636631383766340a613062636436393834366561396132323365656334613035376338333361
          6533

mysql_exporter_user: exporter
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37626634366434326234376531366566393363633439653832313733633838626564636234396566
          3932383665343132636632653865303831393863326438330a373036623735363934326134303564
          34346261343562386534373435653363383938333033313734376461326238373930653931303863
          6463346265363539620a663333663166323762353566663836313834356638636330636566336565
          6531

mysql_backup_user: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30383537303564393338373666386138633737646638666663396131623337303563646264336465
          3839343237363639343433626139353661363063303561320a613330316537326662636663336365
          64663535636536346636623161393436656439396230636566343863393638663330323335383164
          3239333835326565620a313065646361396264316662336165346339383134653661373962666161
          3931

mysql_replication_user: replication
mysql_replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30316361316330346466663436383666616132333561623739303462333061623039613036643433
          3431343339626638383966333030393565386633373530620a313866323464313639623338343165
          30653633383437396237633830386662313239613466613936323166656163383533356533353632
          3839626661303631300a373630663137363136663337653439353331346663373864343131636565
          6139



grafana_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32346264353937653361656433623638626631653765393237316537643331366466343537363539
          3163626231363462643933663634643637353330666436650a396263303430333333666266303033
          63656165376265393261353763333831343739353265636463653661383634366636303562653236
          6435653262353562320a656361643435643963313931323962663237376265663531613832313636
          3330

keepalived_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66653365656431386139376232663630633834653666643333653631616336626338636234326362
          3763343531666431623263633164313035626138383634340a643632356434373239663961636437
          30386363653466336663376634653734303733356135396336306561303963646134376133353039
          3439366131313366360a383866653232386536353662313535383334616361626462336632643531
          3533

dns_transfer_key_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63356537646230396166393764386630643131366138646464613765313631643965346432633061
          3066373364383664633862343765313031666538396139620a333537616362636239353761333032
          36376639653337366564343531616138633430303233656430383166636433636363666537326663
          3362616539323533640a343365383535633964356166666533653830653564343239366638613531
          61346362653138386539333062633634363862326636313831626433393131323635616338666361
          6162333038393661306365336263386366313838313039646630

nsupdate_key_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38356338343134333631383734333831663963633866653563376261616334653737626638666363
          3666396362313233666439393630366162383161653062300a393033646236396363656338386137
          34656238313532333039333936303464323964356438383664663634316235393135323064653237
          3164353936623632640a383863613162356366656231383134336462356135636563616265303533
          39306130326134303438346565383363336166656534653263313730323439356631616561616265
          6262373039613030383535303835623636306434346234383736


dns_forwarders:
  - 1.1.1.1
  - 8.8.8.8
  - 9.9.9.9
  - 9.9.9.10
  
networks:
 - 192.168.42.0/24
 - 127.0.0.0/8
 - 172.17.0.0/16

local_network: 192.168.42.0/23
docker_network: 172.17.0.0/16
localhost_address: 127.0.0.0/8

node_id: "{{ (ansible_port / 100) | int }}"
bind9_prom_port: 9119
mysql_prom_port: 9104
nginx_prom_port: 9113
prometheus_port: 9090
grafana_port: 3000
agama_port: 8001
haproxy_prom_port: 9101
keepalive_prom_port: 9165

haproxy_port: 88
haproxy_stats_port: 9188

nginx_containers_per_vm: 3

cname_records:
    grafana: "{{ groups['grafana'][0] }}"
    influxdb: "{{ groups['influxdb'][0] }}"
    lb_1: "{{ groups['HA_servers'][0] }}"
    lb_2: "{{ groups['HA_servers'][1] }}"
    mysql_1: "{{ groups['db_servers'][0] }}"
    mysql_2: "{{ groups['db_servers'][1] }}"
    ns_1: "{{ groups['dns_servers'][0] }}"
    ns_2: "{{ groups['dns_servers'][1] }}"
    prometheus: "{{ groups['prometheus'][0] }}"
    www_1: "{{ groups['docker'][0] }}"
    www_2: "{{ groups['docker'][1] }}"

